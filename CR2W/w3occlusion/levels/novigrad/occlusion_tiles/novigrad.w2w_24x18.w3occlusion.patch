 1 file changed, 150 insertions(+), 135 deletions(-)

diff --git 1.32/levels/novigrad/occlusion_tiles/novigrad.w2w_24x18.w3occlusion.txt 4.00/levels/novigrad/occlusion_tiles/novigrad.w2w_24x18.w3occlusion.txt
index 171ca34..c3945e5 100644
--- 1.32/levels/novigrad/occlusion_tiles/novigrad.w2w_24x18.w3occlusion.txt
+++ 4.00/levels/novigrad/occlusion_tiles/novigrad.w2w_24x18.w3occlusion.txt
@@ -5,343 +5,358 @@
                 Bufferdata (Int16) : 1
             Tiles (CBufferUInt32:SUmbraTileData)
                 0 (SUmbraTileData)
-                    Hash (Uint64) : 11844817284704642221
+                    Hash (Uint64) : 11844817286644590257
                     Flag1 (Uint8) : 41
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 1 (SUmbraTileData)
-                    Hash (Uint64) : 317958201375898945
-                    Flag1 (Uint8) : 20
+                    Hash (Uint64) : 11844817284704642221
+                    Flag1 (Uint8) : 44
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 2 (SUmbraTileData)
-                    Hash (Uint64) : 14419525153837756235
-                    Flag1 (Uint8) : 49
+                    Hash (Uint64) : 15320934574030585810
+                    Flag1 (Uint8) : 47
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 3 (SUmbraTileData)
-                    Hash (Uint64) : 1685849330425805718
-                    Flag1 (Uint8) : 34
+                    Hash (Uint64) : 4289894076230263498
+                    Flag1 (Uint8) : 38
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 4 (SUmbraTileData)
-                    Hash (Uint64) : 12585733889306921977
-                    Flag1 (Uint8) : 27
+                    Hash (Uint64) : 17362563630830526285
+                    Flag1 (Uint8) : 60
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 5 (SUmbraTileData)
-                    Hash (Uint64) : 3513280973380462961
-                    Flag1 (Uint8) : 32
+                    Hash (Uint64) : 3458094472309334333
+                    Flag1 (Uint8) : 53
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 6 (SUmbraTileData)
-                    Hash (Uint64) : 14419525150838983993
-                    Flag1 (Uint8) : 51
+                    Hash (Uint64) : 16445396901182506534
+                    Flag1 (Uint8) : 12
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 7 (SUmbraTileData)
-                    Hash (Uint64) : 14807542112140573268
-                    Flag1 (Uint8) : 5
+                    Hash (Uint64) : 14480598410108333490
+                    Flag1 (Uint8) : 2
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 8 (SUmbraTileData)
-                    Hash (Uint64) : 4592989471859961873
+                    Hash (Uint64) : 9457336275560504259
                     Flag1 (Uint8) : 24
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 9 (SUmbraTileData)
-                    Hash (Uint64) : 3699193988156507635
-                    Flag1 (Uint8) : 10
+                    Hash (Uint64) : 13069583612584119532
+                    Flag1 (Uint8) : 8
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 10 (SUmbraTileData)
-                    Hash (Uint64) : 9107066646959128278
-                    Flag1 (Uint8) : 31
+                    Hash (Uint64) : 4139406923311746793
+                    Flag1 (Uint8) : 10
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 11 (SUmbraTileData)
-                    Hash (Uint64) : 1416465414455121586
-                    Flag1 (Uint8) : 53
+                    Hash (Uint64) : 11844817286525467895
+                    Flag1 (Uint8) : 57
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 12 (SUmbraTileData)
-                    Hash (Uint64) : 3458094472309334333
-                    Flag1 (Uint8) : 50
+                    Hash (Uint64) : 3699193988429232317
+                    Flag1 (Uint8) : 9
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 13 (SUmbraTileData)
-                    Hash (Uint64) : 16407826259129265272
-                    Flag1 (Uint8) : 4
+                    Hash (Uint64) : 16990387839286075019
+                    Flag1 (Uint8) : 14
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 14 (SUmbraTileData)
-                    Hash (Uint64) : 14807542112483962957
-                    Flag1 (Uint8) : 6
+                    Hash (Uint64) : 2161915924744272508
+                    Flag1 (Uint8) : 0
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 15 (SUmbraTileData)
-                    Hash (Uint64) : 9457336275001405337
-                    Flag1 (Uint8) : 33
+                    Hash (Uint64) : 16990387838307699397
+                    Flag1 (Uint8) : 16
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 16 (SUmbraTileData)
-                    Hash (Uint64) : 16990387837133874988
-                    Flag1 (Uint8) : 21
+                    Hash (Uint64) : 10210579877665717721
+                    Flag1 (Uint8) : 1
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 17 (SUmbraTileData)
-                    Hash (Uint64) : 16990387841204076425
-                    Flag1 (Uint8) : 16
+                    Hash (Uint64) : 3458094470129865146
+                    Flag1 (Uint8) : 64
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 18 (SUmbraTileData)
-                    Hash (Uint64) : 14480598410108333490
-                    Flag1 (Uint8) : 2
+                    Hash (Uint64) : 1416465414230117604
+                    Flag1 (Uint8) : 40
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 19 (SUmbraTileData)
-                    Hash (Uint64) : 4376329136809727747
-                    Flag1 (Uint8) : 12
+                    Hash (Uint64) : 10410329050393427782
+                    Flag1 (Uint8) : 68
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 20 (SUmbraTileData)
-                    Hash (Uint64) : 16990387839286075019
-                    Flag1 (Uint8) : 15
+                    Hash (Uint64) : 1416465417332652154
+                    Flag1 (Uint8) : 49
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 21 (SUmbraTileData)
-                    Hash (Uint64) : 7803271591954663179
-                    Flag1 (Uint8) : 18
+                    Hash (Uint64) : 2512294378644949076
+                    Flag1 (Uint8) : 33
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 22 (SUmbraTileData)
-                    Hash (Uint64) : 3513280975365808732
-                    Flag1 (Uint8) : 26
+                    Hash (Uint64) : 3458094468911800151
+                    Flag1 (Uint8) : 46
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 23 (SUmbraTileData)
-                    Hash (Uint64) : 17895642442778758051
-                    Flag1 (Uint8) : 63
+                    Hash (Uint64) : 3140910997046467942
+                    Flag1 (Uint8) : 18
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 24 (SUmbraTileData)
-                    Hash (Uint64) : 9457336276050109003
-                    Flag1 (Uint8) : 30
+                    Hash (Uint64) : 14419525150838983993
+                    Flag1 (Uint8) : 54
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 25 (SUmbraTileData)
-                    Hash (Uint64) : 3458094470555520721
-                    Flag1 (Uint8) : 39
+                    Hash (Uint64) : 14419525153837756235
+                    Flag1 (Uint8) : 52
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 26 (SUmbraTileData)
-                    Hash (Uint64) : 10410329051641932892
-                    Flag1 (Uint8) : 62
+                    Hash (Uint64) : 10410329051825976557
+                    Flag1 (Uint8) : 67
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 27 (SUmbraTileData)
-                    Hash (Uint64) : 3458094471199713955
-                    Flag1 (Uint8) : 66
+                    Hash (Uint64) : 17362563630464591567
+                    Flag1 (Uint8) : 61
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 28 (SUmbraTileData)
-                    Hash (Uint64) : 11844817285922063326
-                    Flag1 (Uint8) : 45
+                    Hash (Uint64) : 14807542108457822507
+                    Flag1 (Uint8) : 7
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 29 (SUmbraTileData)
-                    Hash (Uint64) : 17362563630464591567
-                    Flag1 (Uint8) : 58
+                    Hash (Uint64) : 11844817287221054912
+                    Flag1 (Uint8) : 39
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 30 (SUmbraTileData)
-                    Hash (Uint64) : 3458094471526975156
-                    Flag1 (Uint8) : 59
+                    Hash (Uint64) : 3513280975365808732
+                    Flag1 (Uint8) : 27
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 31 (SUmbraTileData)
-                    Hash (Uint64) : 11844817283573961034
-                    Flag1 (Uint8) : 56
+                    Hash (Uint64) : 8570511792291190519
+                    Flag1 (Uint8) : 22
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 32 (SUmbraTileData)
-                    Hash (Uint64) : 17362563630830526285
-                    Flag1 (Uint8) : 57
+                    Hash (Uint64) : 6755253644023483816
+                    Flag1 (Uint8) : 23
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 33 (SUmbraTileData)
-                    Hash (Uint64) : 3513280973529801291
-                    Flag1 (Uint8) : 29
+                    Hash (Uint64) : 3458094471297088385
+                    Flag1 (Uint8) : 69
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 34 (SUmbraTileData)
-                    Hash (Uint64) : 3140910996724449028
-                    Flag1 (Uint8) : 19
+                    Hash (Uint64) : 11844817283573961034
+                    Flag1 (Uint8) : 59
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 35 (SUmbraTileData)
-                    Hash (Uint64) : 11844817287221054912
-                    Flag1 (Uint8) : 36
+                    Hash (Uint64) : 17362563629083836311
+                    Flag1 (Uint8) : 50
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 36 (SUmbraTileData)
-                    Hash (Uint64) : 15320934574030585810
-                    Flag1 (Uint8) : 44
+                    Hash (Uint64) : 16990387841204076425
+                    Flag1 (Uint8) : 15
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 37 (SUmbraTileData)
-                    Hash (Uint64) : 3513280974496480929
+                    Hash (Uint64) : 4592989475888477203
                     Flag1 (Uint8) : 25
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 38 (SUmbraTileData)
-                    Hash (Uint64) : 3458094468862863259
-                    Flag1 (Uint8) : 40
+                    Hash (Uint64) : 11279388883340817645
+                    Flag1 (Uint8) : 13
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 39 (SUmbraTileData)
-                    Hash (Uint64) : 2161915927048315807
-                    Flag1 (Uint8) : 0
+                    Hash (Uint64) : 3458094468862863259
+                    Flag1 (Uint8) : 43
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 40 (SUmbraTileData)
-                    Hash (Uint64) : 11279388883340817645
-                    Flag1 (Uint8) : 14
+                    Hash (Uint64) : 15320934576609727937
+                    Flag1 (Uint8) : 58
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 41 (SUmbraTileData)
-                    Hash (Uint64) : 16990387838307699397
-                    Flag1 (Uint8) : 17
+                    Hash (Uint64) : 14807542112483962957
+                    Flag1 (Uint8) : 6
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 42 (SUmbraTileData)
-                    Hash (Uint64) : 11844817283484670633
-                    Flag1 (Uint8) : 42
+                    Hash (Uint64) : 10410329051641932892
+                    Flag1 (Uint8) : 65
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 43 (SUmbraTileData)
-                    Hash (Uint64) : 3458094468911800151
-                    Flag1 (Uint8) : 43
+                    Hash (Uint64) : 9457336277603463171
+                    Flag1 (Uint8) : 36
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 44 (SUmbraTileData)
-                    Hash (Uint64) : 15320934576609727937
-                    Flag1 (Uint8) : 55
+                    Hash (Uint64) : 12585733889359799367
+                    Flag1 (Uint8) : 28
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 45 (SUmbraTileData)
-                    Hash (Uint64) : 13069583612584119532
-                    Flag1 (Uint8) : 9
+                    Hash (Uint64) : 5258213121523043695
+                    Flag1 (Uint8) : 29
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 46 (SUmbraTileData)
-                    Hash (Uint64) : 14807542108457822507
-                    Flag1 (Uint8) : 7
+                    Hash (Uint64) : 1380184826224886473
+                    Flag1 (Uint8) : 30
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 47 (SUmbraTileData)
-                    Hash (Uint64) : 1416465416797865030
-                    Flag1 (Uint8) : 52
+                    Hash (Uint64) : 3513280972543595513
+                    Flag1 (Uint8) : 31
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 48 (SUmbraTileData)
-                    Hash (Uint64) : 10410329051044344732
-                    Flag1 (Uint8) : 60
+                    Hash (Uint64) : 3458094471526975156
+                    Flag1 (Uint8) : 62
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 49 (SUmbraTileData)
-                    Hash (Uint64) : 10210579877665717721
-                    Flag1 (Uint8) : 1
+                    Hash (Uint64) : 317958200095560767
+                    Flag1 (Uint8) : 19
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 50 (SUmbraTileData)
-                    Hash (Uint64) : 4139406926275710059
-                    Flag1 (Uint8) : 11
+                    Hash (Uint64) : 9457336276911947488
+                    Flag1 (Uint8) : 32
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 51 (SUmbraTileData)
-                    Hash (Uint64) : 11844817286644590257
-                    Flag1 (Uint8) : 38
+                    Hash (Uint64) : 3513280974496480929
+                    Flag1 (Uint8) : 26
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 52 (SUmbraTileData)
-                    Hash (Uint64) : 1416465414230117604
-                    Flag1 (Uint8) : 37
+                    Hash (Uint64) : 17895642442778758051
+                    Flag1 (Uint8) : 66
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 53 (SUmbraTileData)
-                    Hash (Uint64) : 12342134990131813010
-                    Flag1 (Uint8) : 22
+                    Hash (Uint64) : 1685849330741750048
+                    Flag1 (Uint8) : 37
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 54 (SUmbraTileData)
-                    Hash (Uint64) : 11844817286525467895
-                    Flag1 (Uint8) : 54
+                    Hash (Uint64) : 1416465414455121586
+                    Flag1 (Uint8) : 56
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 55 (SUmbraTileData)
-                    Hash (Uint64) : 9060387510426258668
-                    Flag1 (Uint8) : 8
+                    Hash (Uint64) : 14628158473100705224
+                    Flag1 (Uint8) : 3
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 56 (SUmbraTileData)
-                    Hash (Uint64) : 3458094470129865146
-                    Flag1 (Uint8) : 61
-                    Flag2 (Uint8) : 0
-                    Index (Uint16) : 3552
-                57 (SUmbraTileData)
-                    Hash (Uint64) : 10410329051993779736
+                    Hash (Uint64) : 11844817285922063326
                     Flag1 (Uint8) : 48
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
+                57 (SUmbraTileData)
+                    Hash (Uint64) : 14964256108018229901
+                    Flag1 (Uint8) : 21
+                    Flag2 (Uint8) : 0
+                    Index (Uint16) : 3552
                 58 (SUmbraTileData)
-                    Hash (Uint64) : 16445396902082769280
-                    Flag1 (Uint8) : 13
+                    Hash (Uint64) : 16990387837133874988
+                    Flag1 (Uint8) : 20
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 59 (SUmbraTileData)
-                    Hash (Uint64) : 9457336276362047509
-                    Flag1 (Uint8) : 23
+                    Hash (Uint64) : 5271177563860875028
+                    Flag1 (Uint8) : 34
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 60 (SUmbraTileData)
-                    Hash (Uint64) : 14628158473740015082
-                    Flag1 (Uint8) : 3
+                    Hash (Uint64) : 14807542112140573268
+                    Flag1 (Uint8) : 5
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 61 (SUmbraTileData)
-                    Hash (Uint64) : 17362563629083836311
-                    Flag1 (Uint8) : 47
+                    Hash (Uint64) : 10410329051993779736
+                    Flag1 (Uint8) : 51
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 62 (SUmbraTileData)
-                    Hash (Uint64) : 4289894076230263498
-                    Flag1 (Uint8) : 35
+                    Hash (Uint64) : 10073795468268622361
+                    Flag1 (Uint8) : 70
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 63 (SUmbraTileData)
-                    Hash (Uint64) : 1416465417332652154
-                    Flag1 (Uint8) : 46
+                    Hash (Uint64) : 7803271592248247529
+                    Flag1 (Uint8) : 17
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 64 (SUmbraTileData)
-                    Hash (Uint64) : 10410329051825976557
-                    Flag1 (Uint8) : 64
+                    Hash (Uint64) : 1416465416797865030
+                    Flag1 (Uint8) : 55
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 65 (SUmbraTileData)
-                    Hash (Uint64) : 10073795468268622361
-                    Flag1 (Uint8) : 67
+                    Hash (Uint64) : 16407826259129265272
+                    Flag1 (Uint8) : 4
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 66 (SUmbraTileData)
-                    Hash (Uint64) : 10405036552201246722
-                    Flag1 (Uint8) : 28
+                    Hash (Uint64) : 3513280973380462961
+                    Flag1 (Uint8) : 35
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
                 67 (SUmbraTileData)
-                    Hash (Uint64) : 10410329050393427782
-                    Flag1 (Uint8) : 65
+                    Hash (Uint64) : 3458094470555520721
+                    Flag1 (Uint8) : 42
+                    Flag2 (Uint8) : 0
+                    Index (Uint16) : 3552
+                68 (SUmbraTileData)
+                    Hash (Uint64) : 10410329051044344732
+                    Flag1 (Uint8) : 63
+                    Flag2 (Uint8) : 0
+                    Index (Uint16) : 3552
+                69 (SUmbraTileData)
+                    Hash (Uint64) : 11844817283484670633
+                    Flag1 (Uint8) : 45
+                    Flag2 (Uint8) : 0
+                    Index (Uint16) : 3552
+                70 (SUmbraTileData)
+                    Hash (Uint64) : 4376329137222605669
+                    Flag1 (Uint8) : 11
                     Flag2 (Uint8) : 0
                     Index (Uint16) : 3552
         unknownBytes (CBytes) : 20 bytes, MD5: 8297066a82399d55e8a8734b7b4737b5
