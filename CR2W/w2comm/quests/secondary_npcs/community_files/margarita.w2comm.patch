 1 file changed, 73 insertions(+), 61 deletions(-)

diff --git 1.32/quests/secondary_npcs/community_files/margarita.w2comm.txt 4.00/quests/secondary_npcs/community_files/margarita.w2comm.txt
index 20aa1df..2f80fd5 100644
--- 1.32/quests/secondary_npcs/community_files/margarita.w2comm.txt
+++ 4.00/quests/secondary_npcs/community_files/margarita.w2comm.txt
@@ -13,7 +13,70 @@
                             guid (CGUID) : 30a04b81-9e4f-45bb-b8f5-f9403b07d0ca
                     storyPhases (array:CSStoryPhaseEntry)
                         0 (CSStoryPhaseEntry)
-                            guid (CGUID) : 2567c8fb-7da3-4e05-8766-4832f9a387fa
+                            guid (CGUID) : 9d23c4c1-80c8-43bb-95b3-6f3a852af7d8
+                            comment (String) : "q310"
+                            storyPhaseName (CSStoryPhaseNames)
+                                tags (TagList)
+                                    tags (CBufferVLQInt32:CName)
+                                        0 (CName) : q310_ap_margaritta
+                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
+                                0 (CSStoryPhaseSpawnTimetableEntry)
+                            timetableName (CName) : q310_ap_margaritta
+                            startInAP (Bool) : true
+                        1 (CSStoryPhaseEntry)
+                            guid (CGUID) : cbc6427d-203c-48d8-9c3c-c19095f2f168
+                            storyPhaseName (CSStoryPhaseNames)
+                                tags (TagList)
+                                    tags (CBufferVLQInt32:CName)
+                                        0 (CName) : q310_ap_margaritta_up
+                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
+                                0 (CSStoryPhaseSpawnTimetableEntry)
+                            timetableName (CName) : q310_ap_margaritta_up
+                            startInAP (Bool) : true
+                        2 (CSStoryPhaseEntry)
+                            guid (CGUID) : 7edc4d18-2cee-41a8-95fd-1f1f99803269
+                            storyPhaseName (CSStoryPhaseNames)
+                                tags (TagList)
+                                    tags (CBufferVLQInt32:CName)
+                                        0 (CName) : q310_ap_margaritta_resting
+                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
+                                0 (CSStoryPhaseSpawnTimetableEntry)
+                            timetableName (CName) : q310_ap_margaritta_resting
+                            startInAP (Bool) : true
+                        3 (CSStoryPhaseEntry)
+                            guid (CGUID) : 81a4b68a-284d-4fa1-b94f-67f752c08c7d
+                            storyPhaseName (CSStoryPhaseNames)
+                                tags (TagList)
+                                    tags (CBufferVLQInt32:CName)
+                                        0 (CName) : q310_ap_margaritta_waiting
+                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
+                                0 (CSStoryPhaseSpawnTimetableEntry)
+                            timetableName (CName) : q310_ap_margaritta_waiting
+                            startInAP (Bool) : true
+                        4 (CSStoryPhaseEntry)
+                            guid (CGUID) : 854fe1cf-3ce5-4db3-8175-7ce777bdfe05
+                            storyPhaseName (CSStoryPhaseNames)
+                                tags (TagList)
+                                    tags (CBufferVLQInt32:CName)
+                                        0 (CName) : q310_ap_margarita_meeting
+                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
+                                0 (CSStoryPhaseSpawnTimetableEntry)
+                            timetableName (CName) : q310_ap_margarita_meeting
+                            startInAP (Bool) : true
+                    guid (CGUID) : b19f5c5f-3278-4b09-b6f4-723b7af6f491
+                1 (CSTableEntry)
+                    entities (array:CSEntitiesEntry)
+                        0 (CSEntitiesEntry)
+                            entityTemplate (soft:CEntityTemplate) : quests/secondary_npcs/margarita.w2ent
+                            appearances (array:CName)
+                                0 (CName) : margaritta_healed
+                            entitySpawnTags (TagList)
+                                tags (CBufferVLQInt32:CName)
+                                    0 (CName) : margarita
+                            guid (CGUID) : f14c7afd-48f5-4edc-ab23-7bbf1c795f74
+                    storyPhases (array:CSStoryPhaseEntry)
+                        0 (CSStoryPhaseEntry)
+                            guid (CGUID) : 36e738ad-9ee0-49cb-8303-46ceb0463aac
                             comment (String) : "q303"
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
@@ -24,7 +87,7 @@
                             timetableName (CName) : q303_at_triss
                             startInAP (Bool) : true
                         1 (CSStoryPhaseEntry)
-                            guid (CGUID) : b6340608-9562-4692-a679-6d840e1b9604
+                            guid (CGUID) : 57f60ae2-0ffc-4608-b259-8102e891cc02
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
                                     tags (CBufferVLQInt32:CName)
@@ -34,7 +97,7 @@
                             timetableName (CName) : q303_at_mages_hideout
                             startInAP (Bool) : true
                         2 (CSStoryPhaseEntry)
-                            guid (CGUID) : e2942a35-57cb-4145-aed6-ff902616ee7c
+                            guid (CGUID) : d1a62a37-b230-4b15-89eb-7a77368f47fb
                             comment (String) : "q309"
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
@@ -46,7 +109,7 @@
                             startInAP (Bool) : true
                             useLastAP (Bool) : true
                         3 (CSStoryPhaseEntry)
-                            guid (CGUID) : 430fbd32-8812-486b-a719-36951629b660
+                            guid (CGUID) : 493b6fad-68d5-4cd2-822c-5d94b6e38dfc
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
                                     tags (CBufferVLQInt32:CName)
@@ -57,7 +120,7 @@
                             startInAP (Bool) : true
                             useLastAP (Bool) : true
                         4 (CSStoryPhaseEntry)
-                            guid (CGUID) : 008dbc12-33e4-4ad6-88d1-0e028490014f
+                            guid (CGUID) : 5edd4e29-b510-4072-af8f-dd8328d80585
                             comment (String) : "q210"
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
@@ -68,7 +131,7 @@
                             timetableName (CName) : q210_novigrad_molo
                             startInAP (Bool) : true
                         5 (CSStoryPhaseEntry)
-                            guid (CGUID) : 72301af4-5023-43b6-a964-939e6e3be69f
+                            guid (CGUID) : e25a0610-71b8-4bcb-afae-7a94e506b238
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
                                     tags (CBufferVLQInt32:CName)
@@ -78,7 +141,7 @@
                             timetableName (CName) : q210_novigrad_on_ship
                             startInAP (Bool) : true
                         6 (CSStoryPhaseEntry)
-                            guid (CGUID) : c87fd94c-8a76-418f-9e96-12ad2d62970f
+                            guid (CGUID) : 2a81b142-8400-4fd5-b2a5-9b5993d110ff
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
                                     tags (CBufferVLQInt32:CName)
@@ -88,7 +151,7 @@
                             timetableName (CName) : q210_on_ship
                             startInAP (Bool) : true
                         7 (CSStoryPhaseEntry)
-                            guid (CGUID) : ceafd4f7-99c0-46b5-aabf-a9600ba4bbe9
+                            guid (CGUID) : 97a539a2-590b-4a7c-86da-6e4f1f39a22a
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
                                     tags (CBufferVLQInt32:CName)
@@ -98,58 +161,7 @@
                             timetableName (CName) : q210_on_deck
                             startInAP (Bool) : true
                         8 (CSStoryPhaseEntry)
-                            guid (CGUID) : 9d23c4c1-80c8-43bb-95b3-6f3a852af7d8
-                            comment (String) : "q310"
-                            storyPhaseName (CSStoryPhaseNames)
-                                tags (TagList)
-                                    tags (CBufferVLQInt32:CName)
-                                        0 (CName) : q310_ap_margaritta
-                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
-                                0 (CSStoryPhaseSpawnTimetableEntry)
-                            timetableName (CName) : q310_ap_margaritta
-                            startInAP (Bool) : true
-                        9 (CSStoryPhaseEntry)
-                            guid (CGUID) : cbc6427d-203c-48d8-9c3c-c19095f2f168
-                            storyPhaseName (CSStoryPhaseNames)
-                                tags (TagList)
-                                    tags (CBufferVLQInt32:CName)
-                                        0 (CName) : q310_ap_margaritta_up
-                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
-                                0 (CSStoryPhaseSpawnTimetableEntry)
-                            timetableName (CName) : q310_ap_margaritta_up
-                            startInAP (Bool) : true
-                        10 (CSStoryPhaseEntry)
-                            guid (CGUID) : 7edc4d18-2cee-41a8-95fd-1f1f99803269
-                            storyPhaseName (CSStoryPhaseNames)
-                                tags (TagList)
-                                    tags (CBufferVLQInt32:CName)
-                                        0 (CName) : q310_ap_margaritta_resting
-                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
-                                0 (CSStoryPhaseSpawnTimetableEntry)
-                            timetableName (CName) : q310_ap_margaritta_resting
-                            startInAP (Bool) : true
-                        11 (CSStoryPhaseEntry)
-                            guid (CGUID) : 81a4b68a-284d-4fa1-b94f-67f752c08c7d
-                            storyPhaseName (CSStoryPhaseNames)
-                                tags (TagList)
-                                    tags (CBufferVLQInt32:CName)
-                                        0 (CName) : q310_ap_margaritta_waiting
-                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
-                                0 (CSStoryPhaseSpawnTimetableEntry)
-                            timetableName (CName) : q310_ap_margaritta_waiting
-                            startInAP (Bool) : true
-                        12 (CSStoryPhaseEntry)
-                            guid (CGUID) : 854fe1cf-3ce5-4db3-8175-7ce777bdfe05
-                            storyPhaseName (CSStoryPhaseNames)
-                                tags (TagList)
-                                    tags (CBufferVLQInt32:CName)
-                                        0 (CName) : q310_ap_margarita_meeting
-                            spawnTimetable (array:CSStoryPhaseSpawnTimetableEntry)
-                                0 (CSStoryPhaseSpawnTimetableEntry)
-                            timetableName (CName) : q310_ap_margarita_meeting
-                            startInAP (Bool) : true
-                        13 (CSStoryPhaseEntry)
-                            guid (CGUID) : 1489a560-13dd-4ded-b341-1f14b8d7b54f
+                            guid (CGUID) : 5e7a8e66-3346-4371-9807-9b54f199811c
                             comment (String) : "q502"
                             storyPhaseName (CSStoryPhaseNames)
                                 tags (TagList)
@@ -160,7 +172,7 @@
                             timetableName (CName) : q502_margarita_shore
                             startInAP (Bool) : true
                             useLastAP (Bool) : true
-                    guid (CGUID) : b19f5c5f-3278-4b09-b6f4-723b7af6f491
+                    guid (CGUID) : 298f9a6e-a6e7-4265-9277-b1f9972272a4
             storyPhaseTimetable (array:CSStoryPhaseTimetableEntry)
                 0 (CSStoryPhaseTimetableEntry)
                     name (CName) : q303_at_triss
